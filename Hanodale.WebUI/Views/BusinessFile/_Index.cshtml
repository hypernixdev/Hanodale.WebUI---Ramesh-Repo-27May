@model Hanodale.WebUI.Models.AccessRightsModel
@using Hanodale.Utility.Globalize
@using Hanodale.WebUI
@using System.Web.Optimization

@{
    ViewBag.Title = "Index";
    Layout = null;
}


<!-- Hidden Variable -->
<input type="hidden" id="alert-delete" value ="@Resources.MSG_CONFIRM_DELETE">
<input type="hidden" class="mainPart" value="businessfile" data-container="#hr3">
<input type="hidden" class="table-congif" data-active="true" value="businessfile" data-columncount="5" data-button="true" data-condition="false" data-extended-event-btn="true" data-filterId="@Model.elementId" data-readOnly="@Model.readOnly" data-auto-hide-column="true" data-export-btn="true" data-dest="#d-file-bus">
<input type="hidden" id="business-id" value="@Model.elementId">
<!-- Hidden Variable -->

<!-- page-header -->
<div id="message" class="alert alert-success" style="display: none"></div>
<div id="chr5"></div>
<div id="businessIndex">
<div class="row-flex">
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">
                <i class="fa fa-table fa-fw "></i>@Resources.PAGE_HEADER_MANAGE_BUSINESSFILE
            </h1>
        </div>
        @if (@Model.canAdd && !@Model.readOnly)
        {
            <div class="col-xs-12 col-sm-5 col-md-5 col-lg-8">
                <ul id="sparks" class="">
                    <li class="sparks-info">
                        <button id="create-businessfile" data-url="BusinessFile/Create/@Model.elementId" class="btn btn-sm btn-primary" type="button" data-dest="#d-file-bus">
                            <i class="fa fa-plus"></i>
                            @Resources.BTN_CREATE_BUSINESSFILE
                        </button>
                    </li>
                </ul>
            </div>
        }
    </div>

    <!-- /.page-header -->

    <!-- page-content -->
    <section id="widget-grid" class="">
        <!-- row -->
        <div class="row">
            <!-- NEW WIDGET START -->
            <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget jarviswidget-color-darken" id="wid-id-0"
                    data-widget-editbutton="false"
                    data-widget-deletebutton="false"
                    data-widget-colorbutton="false"
                    data-widget-sortable="false">
                    <header>
                        <span class="widget-icon"><i class="fa fa-table"></i></span>
                        <h2>@Resources.BUSINESSFILE_GRID_TITLE </h2>

                    </header>

                    <!-- widget div-->
                    <div>
                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->
                        </div>
                        <!-- end widget edit box -->

                        <!-- widget content -->
                        <div class="widget-body no-padding">
                            <table id="dt_businessfile" class="table table-striped table-bordered table-hover" width="100%">
                                <thead>
                                    <tr>
                                        <th data-class="expand"><i class="fa fa-fw fa-pencil text-muted hidden-md hidden-sm hidden-xs tableIcon"></i>@Resources.BUSINESSFILE_NAME</th>
                                        <th data-hide="phone,tablet"><i class="fa fa-fw fa-comment text-muted hidden-md hidden-sm hidden-xs tableIcon"></i>@Resources.BUSINESSFILE_DESCRIPTION</th>
                                        <th data-hide="phone,tablet"><i class="fa fa-fw fa-picture-o text-muted hidden-md hidden-sm hidden-xs tableIcon"></i>@Resources.BUSINESSFILE_FILETYPE</th>
                                        <th data-hide="phone,tablet"><i class="fa fa-fw fa-calendar text-muted hidden-md hidden-sm hidden-xs tableIcon"></i>@Resources.BUSINESSFILE_MODIFIEDDATE</th>
                                        <th class="table-column-header" style="width: 100px;"></th>

                                    </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </article>
        </div>
    </section>
    <!-- /.page-content -->
</div>
<!-- Protected Script -->
@Scripts.Render(bundles.scripts.common_index)
<!-- Protected Script -->

<script type="text/javascript">
    $(document).ready(function () {
        $("#createbusinessfile").click(function (evt) {
            $("#chr5").show();
            $("#businessIndex").hide();
            navigate.navigateElement("BusinessFile/Create/@Model", $("#chr5"));
        });
    });
</script>

<script type="text/javascript">
    _initActionExtended = function (partName) {
        $('.editbusinessfile').click(function (evt) {
            var id = $(this).attr("data-url")
            var actionUrl = "BusinessFile" + "/Edit/" + id;
            $("#chr5").show();
            $("#businessIndex").hide();
            navigate.navigateElement(actionUrl, $("#chr5"));
        });
        //$(".downloadbusinessfile").click(function (evt) {
        //    var id = $(this).attr("data-url")
        //    var actionUrl = "BusinessFile" + "/DownloadBusinessFile/" + id;
        //    navigate.navigateElement(actionUrl, $("#chr5"));
        //});
    }
</script>
